اشمل "تـوازي"؛
اشمل "مـتم/طـرفية"؛
اشمل"مـتم/مـصفوفة.أسس"؛
عرف كائن_مزامن: تـوازي.كـائن_مزامن؛

عرف تعداد: صحيح = 0؛

دالة اختبار{
    استخدم تـوازي؛
   عرف عدد_الأشرطة: 10؛
    عرف تعريف_توازي: مصفوفة[شـريط, عدد_الأشرطة]؛
    عرف عدد_صح: صحيح؛
    عرف عدد_صح2: صحيح؛
    لكل عدد_صح = 0, عدد_صح <  عدد_الأشرطة, عدد_صح++ {
       أنشئ_عملية(تعريف_توازي(عدد_صح)~مؤشر, 0, دالة_توازي~مؤشر, 0)؛
    }
    
    لكل عدد_صح2 = 0, عدد_صح2 <  عدد_الأشرطة, عدد_صح2++ {
        التق_بالعملية(تعريف_توازي(عدد_صح2), 0)؛
    }

}
    

دالة دالة_توازي (ح: مؤشر): مؤشر{
    استخدم تـوازي؛
    توازي_الاغلاق(كائن_مزامن~مؤشر)؛
    مـتم.طـرفية.اطبع("Thread number: %d\n", تعداد)؛
    تعداد++؛
    توازي_الغاء_القفل(كائن_مزامن~مؤشر)؛
    ارجع 0؛
    
}

اختبار()؛

